# Using Area2D

## 简介

Godot offers a number of collision objects to provide both collision detection and response. Trying to decide which one to use for your project can be confusing. You can avoid problems and simplify development if you understand how each of them works and what their pros and cons are. In this tutorial, we'll look at the [Area2D](https://docs.godotengine.org/zh_CN/stable/classes/class_area2d.html#class-area2d) node and show some examples of how it can be used.
Godot提供了许多碰撞对象以提供碰撞检测和响应。 试图确定要为您的项目使用哪个选项可能会造成混淆。 如果您了解每个问题的工作原理和优点和缺点，则可以避免这些问题并简化开发。 在本教程中，我们将研究[Area2D](https://docs.godotengine.org/zh_CN/stable/classes/class_area2d.html#class-area2d)节点，并显示一些如何使用它的示例。

注解

本文假设您熟悉Godot中的各种物理体。 否则请先阅读 [物理介绍](https://docs.godotengine.org/zh_CN/stable/tutorials/physics/physics_introduction.html#doc-physics-introduction) 。

## What is an area?

An Area2D defines a region of 2D space. In this space you can detect other [CollisionObject2D](https://docs.godotengine.org/zh_CN/stable/classes/class_collisionobject2d.html#class-collisionobject2d) nodes overlapping, entering, and exiting. Areas also allow for overriding local physics properties. We'll explore each of these functions below.
Area2D定义2D空间的区域。 在此空间中，您可以检测到其他[CollisionObject2D](https://docs.godotengine.org/zh_CN/stable/classes/class_collisionobject2d.html#class-collisionobject2d)重叠，进入和退出的节点。 区域还允许覆盖本地物理属性。 我们将在下面探讨这些功能。

## Area properties

Areas have many properties you can use to customize their behavior.
区域具有许多属性，可用于自定义其行为。

![../../_images/area2d_properties.png](https://docs.godotengine.org/zh_CN/stable/_images/area2d_properties.png)

The first eight properties are used to configure the area's physics override behavior. We'll look at how to use those in the section below.
前八个属性用于配置区域的物理替代行为。 我们将在下面的部分中介绍如何使用它们。

*Monitoring* and *Monitorable* are used to enable and disable the area.

* Monitoring *和* Monitorable *用于启用和禁用区域。

The "Collision" section is where you configure the area's collision layer(s) and mask(s).
"碰撞"部分是配置区域碰撞层和掩码的地方。

The "Audio Bus" section allows you to override audio in the area, for example to apply an audio effect when the player moves through.
"音频总线"部分允许您覆盖区域中的音频，例如，在播放器移动时应用音频效果。

Note that Area2D extends [CollisionObject2D](https://docs.godotengine.org/zh_CN/stable/classes/class_collisionobject2d.html#class-collisionobject2d), so it also provides properties inherited from that class, such as `input_pickable`.
请注意，Area2D扩展了[CollisionObject2D](https://docs.godotengine.org/zh_CN/stable/classes/class_collisionobject2d.html#class-collisionobject2d，因此它还提供了从该类继承的属性，例如“ input_pickable”。

## Overlap detection重叠检测

Perhaps the most common use of Area2D nodes is for contact and overlap detection. When you need to know that two objects have touched, but don't need physical collision, you can use an area to notify you of the contact.
区域 2D 节点最常见的用途可能是接触和重叠检测。当您需要知道两个对象已接触，但不需要物理碰撞时，可以使用一个区域通知您联系人。

For example, let's say we're making a coin for the player to pick up. The coin is not a solid object - the player can't stand on it or push it - we just want it to disappear when the player touches it.

Here's the node setup for the coin:

![../../_images/area2d_coin_nodes.png](https://docs.godotengine.org/zh_CN/stable/_images/area2d_coin_nodes.png)

To detect the overlap, we'll connect the appropriate signal on the Area2d. Which signal to use depends on the player's node type. If the player is another area, use `area_entered`. However, let's assume our player is a `KinematicBody2D` (and therefore a `CollisionObject2D` type), so we'll connect the `body_entered` signal.

注解

If you're not familiar with using signals, see [信号](https://docs.godotengine.org/zh_CN/stable/getting_started/step_by_step/signals.html#doc-signals) for an introduction.

GDScriptC#

```
extends Area2D

func _on_Coin_body_entered(body):
    queue_free()
```

Now our player can collect the coins!

Some other usage examples:

- Areas are great for bullets and other projectiles that hit and deal damage, but don't need any other physics such as bouncing.
- Use a large circular area around an enemy to define its "detect" radius. When the player is outside the area, the enemy can't "see" it.
- "Security cameras" - In a large level with multiple cameras, attach areas to each camera and activate them when the player enters.

See the [您的第一个游戏](https://docs.godotengine.org/zh_CN/stable/getting_started/step_by_step/your_first_game.html#doc-your-first-game) for an example of using Area2D in a game.

## 区域影响

The second major use for area nodes is to alter physics. By default, the area won't do this, but you can enable this with the *Space Override* property. When areas overlap, they are processed in *Priority* order (higher priority areas are processed first). There are four options for override:

- *Combine* - The area adds its values to what has been calculated so far.
- *Replace* - The area replaces physics properties, and lower priority areas are ignored.
- *Combine-Replace* - The area adds its gravity/damping values to whatever has been calculated so far (in priority order), ignoring any lower priority areas.
- *Replace-Combine* - The area replaces any gravity/damping calculated so far, but keeps calculating the rest of the areas.

Using these properties, you can create very complex behavior with multiple overlapping areas.

The physics properties that can be overridden are:

- *Gravity* - Gravity's strength inside the area.
- *Gravity Vec* - Gravity's direction. This vector does not need to be normalized.
- *Linear Damp* - How quickly objects stop moving - linear velocity lost per second.
- *Angular Damp* - How quickly objects stop spinning - angular velocity lost per second.

### Point gravity

The *Gravity Point* property allows you to create an "attractor". Gravity in the area will be calculated towards a point, given by the *Gravity Vec* property. Values are relative to the Area2D, so for example using `(0, 0)` will attract objects to the center of the area.

### 示例

The example project attached below has three areas demonstrating physics override.

![../../_images/area2d_override.gif](C:\Users\NYJ\WorkSpace\zwatch_web\source\_posts\Experience\godot\物理学\area2d_override.gif)

You can download this project here: [`using_area_2d.zip`](https://docs.godotengine.org/zh_CN/stable/_downloads/d5f00d07e5cfbadc0e58772a790d0da2/using_area_2d.zip)