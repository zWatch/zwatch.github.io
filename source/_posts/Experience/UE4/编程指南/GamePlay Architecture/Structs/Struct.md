# USTRUCT

StructsReference to creating and implementing structs for gameplay classes.Unreal Engine 4.25 Advanced  
Structs有关创建和实现游戏类的结构的参考。Unreal Engine 4.25 Advanced

Structs are data structures that help you organize and manipulate related properties. In the Unreal Engine, they're recognized by the Engine's reflection system, but are not part of the UObject ecosystem. As a result, they are faster to create than a UObject with the same data layout, and support UProperties, but will not be managed by the Garbage Collection system and cannot provide UFunctions.  
结构是可以帮助您组织和操纵相关属性的数据结构。 在虚幻引擎中，它们被引擎的反射系统识别，但不属于UObject生态系统。 结果，与具有相同数据布局的UObject相比，它们的创建速度更快，并且支持UProperty，但不会由垃圾回收系统管理，也无法提供UFunction。

To make a struct into a UStruct, use the USTRUCT tag above the struct's definition, and include GENERATED_BODY() as the first line within the definition, as follows:
要将结构变成UStruct，请使用结构定义上方的USTRUCT标记，并将GENERATED_BODY（）作为定义中的第一行，如下所示：

```
USTRUCT([Specifier, Specifier, ...])
struct StructName
{
    GENERATED_BODY()
};
```

## Specifier

Struct SpecifiersKeywords used when declaring gameplay structs to specify how the struct behaves with various aspects of the engine and editor.声明游戏结构时使用的Struct SpecifiersKeywords，用于指定结构在引擎和编辑器各个方面的行为方式。
Unreal Engine 4.24 Advanced

You can add Struct Specifiers to the struct definition to control how it behaves with various aspects of the Engine and Editor.
您可以将Struct说明符添加到结构定义中，以控制它在引擎和编辑器各个方面的行为。

Struct Specifier        Effect

Atomic      Indicates that this struct should always be serialized as a single unit. No autogenerated code will be created for this class; the header is only provided to parse metadata from.指示此结构应始终作为一个单元序列化。 不会为此类创建自动生成的代码； 标头仅用于解析元数据。

BlueprintType       Exposes this struct as a type that can be used for variables in Blueprints. 将此结构公开为可用于蓝图中变量的类型。

Immutable       Immutable is only legal in Object.h and is being phased out, do not use on new structs!. "Immutable"仅在Object.h中是合法的，并且正在逐步淘汰，请勿在新结构上使用！

NoExport        No autogenerated code will be created for this class; the header is only provided for parsing metadata.不会为此类创建自动生成的代码； 标头仅用于解析元数据。

## Metadata Specifiers
When declaring Classes, interfaces, structs, enums, enum values, functions, or properties, you can add Metadata Specifiers to control how they behave with various aspects of the engine and the editor. Each type of data structure or member has its own list of Metadata Specifiers.在声明类，接口，结构，枚举，枚举值，函数或属性时，可以添加元数据说明符来控制它们在引擎和编辑器各个方面的行为。 每种类型的数据结构或成员都有其自己的元数据说明符列表。

Classes can use the following Metatag Specifiers:

Class Meta Tag      Effect

BlueprintSpawnableComponent     If present, the component Class can be spawned by a Blueprint.如果存在，则可以通过蓝图生成组件类。？？？

BlueprintThreadSafe     Only valid on Blueprint function libraries. This specifier marks the functions in this class as callable on non-game threads in animation Blueprints.仅在蓝图函数库上有效。 该说明符将此类中的功能标记为可在动画“蓝图”中的非游戏线程上调用。

ChildCannotTick     Used for Actor and component Classes. If the native Class cannot tick, Blueprint-generated Classes based this Actor or component can never tick, even if bCanBlueprintsTickByDefault is true.用于Actor和组件类。 如果本机类无法tick，则即使Actor或组件基于Blueprint生成的类也永远不会tick，即使bCanBlueprintsTickByDefault为true。

ChildCanTick        Used for Actor and component Classes. If the native Class cannot tick, Blueprint-generated Classes based this Actor or component can have the bCanEverTick flag overridden, even if bCanBlueprintsTickByDefault is false.用于Actor和组件类。 如果本机类无法tick，则即使Actor或组件基于Blueprint生成的类也可以覆盖bCanEverTick标志，即使bCanBlueprintsTickByDefault为false。

DeprecatedNode      For behavior tree nodes, indicates that the Class is deprecated and will display a warning when compiled.对于行为树节点，指示该类已弃用，并且在编译时将显示警告。

DeprecationMessage="Message Text"       If the class is deprecated, this message will be added to the standard deprecation warning when trying to compile a Blueprint that uses it.如果不推荐使用该类，则在尝试编译使用该类的蓝图时，会将此消息添加到标准不推荐使用警告中。

DisplayName="Blueprint Node Name"       The name of this node in a Blueprint will be replaced with the value provided here, instead of the code-generated name.蓝图中此节点的名称将替换为此处提供的值，而不是代码生成的名称。

DontUseGenericSpawnObject       Do not spawn an Object of the Class using Generic Create Object node in Blueprint. This specifier makes sense only for Bluprint-type classes that are neither Actors nor ActorComponents.不要使用“蓝图”中的“通用创建对象”节点生成类的对象。 该说明符仅对"既不是Actor也不是ActorComponents的Bluprint类型"的类有意义。

ExposedAsyncProxy       Expose a proxy Object of this Class in Async Task nodes.在“异步任务”节点中公开此类的代理对象。

IgnoreCategoryKeywordsInSubclasses      Used to make the first subclass of a Class ignore all inherited ShowCategories and HideCategories specifiers.用于使Class的第一个子类忽略所有继承的ShowCategories和HideCategories指定符。

IsBlueprintBase="true/false"        States that this Class is (or is not) an acceptable base Class for creating Blueprints, similar to the UCLASS specifiers, Blueprintable or 'NotBlueprintable`.声明该类是（或不是）用于创建蓝图的可接受的基类，类似于UCLASS说明符Blueprintable或'NotBlueprintable'。

KismetHideOverrides="Event1, Event2, .."        List of Blueprint events that are not allowed to be overridden.不允许覆盖的蓝图事件列表。

ProhibitedInterfaces="Interface1, Interface2, .."       Lists Interfaces that are not compatible with the Class.列出与类不兼容的接口。

RestrictedToClasses="Class1, Class2, .."        Used by Blueprint function library classes to restrict usage to the classes named in the list.Blueprint函数库类用于将使用限制为列表中命名的类。

ShortToolTip="Short tooltip"        A short tooltip that is used in some contexts where the full tooltip might be overwhelming, such as the Parent Class Picker dialog.一个简短的工具提示，在某些情况下可能会用尽整个工具提示，例如“父类选择器”对话框。

ShowWorldContextPin     Indicates that Blueprint nodes placed in graphs owned by this Class must show their World context pins, even if they are normally hidden, because Objects of this Class cannot be used as World context.指示放置在此类拥有的图形中的蓝图节点必须显示其World上下文图钉，即使它们通常是隐藏的，因为该类的对象不能用作World上下文。

UsesHierarchy       Indicates the Class uses hierarchical data. Used to instantiate hierarchical editing features in Details panels.指示类使用分层数据。 用于实例化“详细信息”面板中的分层编辑功能。

ToolTip="Hand-written tooltip"      Overrides the automatically generated tooltip from code comments.从代码注释中覆盖自动生成的工具提示。


## Using Structs

Using StructsGet started using Structs with this short guide Unreal Engine 4.25 Advanced
使用Structs本简短指南可开始使用Structs

SEE ALSO
[Structs](https://docs.unrealengine.com/en-US/Programming/UnrealArchitecture/Reference/Structs/index.html)
[Struct Specifiers](https://docs.unrealengine.com/en-US/Programming/UnrealArchitecture/Reference/Structs/Specifiers/index.html)
[Struct Variables in Blueprints](https://docs.unrealengine.com/en-US/Engine/Blueprints/UserGuide/Variables/Structs/index.html)

Structs (or UStructs) are data structures that help you organize and manipulate related properties. By using structs, you can create custom variable types to help organize your project. This guide will help you set up structs, and give some insight into how they can be customized.结构（或UStructs）是可帮助您组织和操纵相关属性的数据结构。 通过使用结构，可以创建自定义变量类型来帮助组织项目。 本指南将帮助您设置结构，并对如何自定义结构提供一些见解。

### Implementing Structs
+ Open the header (.h) file where you want to define your struct.
打开要在其中定义结构的标头（.h）文件。

+ Define your C++ struct and add the USTRUCT macro before it, including any UStruct Specifiers your struct needs. 定义您的C ++结构并在其之前添加USTRUCT宏，包括您的结构所需的任何UStruct说明符。

+ Add the GENERATED_BODY macro to the top of your struct. 将GENERATED_BODY宏添加到结构的顶部。

+ You can now tag the struct's member variables with UPROPERTY to make them visible to UE's reflection system and Blueprint Scripting. 现在，您可以使用UPROPERTY标记结构的成员变量，以使其对UE的反射系统和Blueprint Scripting可见。

  - Check out this list of UProperty Specifiers to see how the property can behave within various aspects of the Engine and Editor.查看此UProperty说明符列表，以查看该属性在引擎和编辑器的各个方面如何表现。

### Example

```
USTRUCT(BlueprintType)
struct FMyStruct
{
    GENERATED_BODY()

    //~ The following member variable will be accessible by Blueprint Graphs:
    //~ 蓝图可以访问以下成员变量：
    // This is the tooltip for our test variable. 这是测试变量的工具提示。
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category="Test Variables")
    int32 MyIntegerMemberVariable;

    //~ The following member variable will be not accessible by Blueprint Graphs:
    //~ 蓝图无法访问以下成员变量：
    int32 NativeOnlyMemberVariable;

    /**~
    * This UObject pointer is not accessible to Blueprint Graphs, but
    * is visible to UE4's reflection, smart pointer, and garbage collection
    * systems.
    * 蓝图无法访问此UObject指针，但是对UE4的反射，智能指针和垃圾回收系统可见
    */
    UPROPERTY()
    UObject* SafeObjectPointer;
};
```

### Additional Information
Here are some helpful hints and things to remember when using Structs:
这里是一些有用的提示和使用Structs时要记住的事情：

+ UStructs can use UE's smart pointer and garbage collection systems to prevent UObjects from being removed by garbage collection. UStructs可以使用UE的智能指针和垃圾收集系统来防止UObject被垃圾收集删除。

+ Structs are different from UObjects, and because of this Structs are best used for simple data types. 结构不同于UObject，因此，结构最适合用于简单数据类型。

  - For more complicated interactions within your project, you may want to make a UObject or AActor subclass instead. 对于项目中更复杂的交互，您可能想代替制作一个UObject或AActor子类。

+ UStructs ARE NOT considered for replication. 不考虑将UStructs复制。???

  - UProperty variables ARE considered for replication. UProperty变量被考虑用于复制。

+ UE has the ability to automatically create Make and Break functions for Structs. UE能够自动为结构创建 "Make" 和 "Break" 功能。

  - Make appears for any UStruct with the BlueprintType tag.
对于带有BlueprintType标签的任何UStruct，"Make" 都会出现。

  - Break appears if you have at least one BlueprintReadOnly or BlueprintReadWrite property in the UStruct.
如果您在UStruct中至少有一个BlueprintReadOnly或BlueprintReadWrite属性，则会出现Break。

  - The pure node that Break creates will provide one output pin for each property tagged as BlueprintReadOnly or BlueprintReadWrite. Break创建的纯节点将为标记为BlueprintReadOnly或BlueprintReadWrite的每个属性提供一个输出引脚。

Tags
USTRUCT Struct Specifiers