



|            | in                                                           | out                                                          |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| shared_ptr | 函数内可能共享该指针                                         | 你可以共享该指针                                             |
| weak_ptr   | 函数内部可能对指针的引用进行copy，或者只是短暂的引用，不会共享该指针 | 你不应该共享该指针，可以暂时使用（转换成shared_ptr），或者对其引用进行copy |
| unique_ptr | 你必须放弃该指针的所有权                                     | 你获得了该指针的所有权                                       |
|            |                                                              |                                                              |

考虑到语义标识，可以考虑对类型进行重载，添加

```c++
template<Tx, Dx>
using temp_ptr = weak_ptr<Tx, Dx>; //或者shared_ptr，以减少一次转换

template<Tx, Dx>
using copy_ptr = weak_ptr<Tx, Dx>;//或者shared_ptr，以减少一次转换
//事实上不需要copy_ptr，因为可以再内部copy，然后返回unique_ptr
//但考虑到可能对引用对象的操作可能需要特化，这个也是有意义的
```

如果再考虑多线程的情况，可以对上述指针进行封装，添加锁结构等

编程规范，可以考虑规定不允许返回裸指针，必须使用智能指针。

|        |      |      |
| ------ | ---- | ---- |
| unique |      |      |
|        |      |      |
|        |      |      |

```
struct mutex_shared_ptr :
{


}
```

